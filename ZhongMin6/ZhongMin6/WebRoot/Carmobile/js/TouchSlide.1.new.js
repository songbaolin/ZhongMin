/*publish date:2016-11-01 11:31:47*/
/*!
 * TouchSlide v1.1
 * javascript触屏滑动特效插件，移动端滑动特效，触屏焦点图，触屏Tab切换，触屏多图切换等
 * 详尽信息请看官网：//www.SuperSlide2.com/TouchSlide/
 *
 * Copyright 2013 大话主席
 *
 * 请尊重原创，保留头部版权
 * 在保留版权的前提下可应用于个人或商业用途

 * 1.1 宽度自适应（修复安卓横屏时滑动范围不变的bug）
 */
;var TouchSlide=function(ae){ae=ae||{};var H={slideCell:ae.slideCell||"#touchSlide",titCell:ae.titCell||".hd li",mainCell:ae.mainCell||".bd",effect:ae.effect||"left",autoPlay:ae.autoPlay||false,delayTime:ae.delayTime||300,interTime:ae.interTime||2500,defaultIndex:ae.defaultIndex||0,titOnClassName:ae.titOnClassName||"on",autoPage:ae.autoPage||false,prevCell:ae.prevCell||".prev",nextCell:ae.nextCell||".next",pageStateCell:ae.pageStateCell||".pageState",pnLoop:ae.pnLoop=="undefined "?true:ae.pnLoop,startFun:ae.startFun||null,endFun:ae.endFun||null,switchLoad:ae.switchLoad||null,T:ae.T||null,marW:ae.marginWidth||0};var g=document.getElementById(H.slideCell.replace("#",""));if(!g){return false}var d=function(al,ah){al=al.split(" ");var ak=[];ah=ah||document;var af=[ah];for(var aj in al){if(al[aj].length!=0){ak.push(al[aj])}}for(var aj in ak){if(af.length==0){return false}var am=[];for(var a in af){if(ak[aj][0]=="#"){am.push(document.getElementById(ak[aj].replace("#","")))}else{if(ak[aj][0]=="."){var an=af[a].getElementsByTagName("*");for(var ai=0;ai<an.length;ai++){var ag=an[ai].className;if(ag&&ag.search(new RegExp("\\b"+ak[aj].replace(".","")+"\\b"))!=-1){am.push(an[ai])}}}else{var an=af[a].getElementsByTagName(ak[aj]);for(var ai=0;ai<an.length;ai++){am.push(an[ai])}}}}af=am}return af.length==0||af[0]==ah?false:af};var V=function(af,a){var i=document.createElement("div");i.innerHTML=a;i=i.children[0];var ag=af.cloneNode(true);i.appendChild(ag);af.parentNode.replaceChild(i,af);S=ag;return i};var T=function(af,a){var i=0;if(af.currentStyle){i=af.currentStyle[a]}else{i=getComputedStyle(af,false)[a]}return parseInt(i.replace("px",""))};var F=function(i,a){if(!i||!a||(i.className&&i.className.search(new RegExp("\\b"+a+"\\b"))!=-1)){return}i.className+=(i.className?" ":"")+a};var u=function(i,a){if(!i||!a||(i.className&&i.className.search(new RegExp("\\b"+a+"\\b"))==-1)){return}i.className=i.className.replace(new RegExp("\\s*\\b"+a+"\\b","g"),"")};var X=H.effect;var r=d(H.prevCell,g)[0];var G=d(H.nextCell,g)[0];var E=d(H.pageStateCell)[0];var S=d(H.mainCell,g)[0];if(!S){return false}var h=S.children.length;var y=d(H.titCell,g);var p=y?y.length:h;if(H.T){var Z=d(H.T);var l=Z?Z.length:0}var m=H.switchLoad;var J=parseInt(H.defaultIndex);var x=parseInt(H.delayTime);var s=parseInt(H.interTime);var U=(H.autoPlay=="false"||H.autoPlay==false)?false:true;var t=(H.autoPage=="false"||H.autoPage==false)?false:true;var f=(H.pnLoop=="false"||H.pnLoop==false)?false:true;var ac=J;var W=null;var Y=null;var D=null;var C=0;var z=0;var N=0;var L=0;var k=0;var O=(/hp-tablet/gi).test(navigator.appVersion);var v="ontouchstart" in window&&!O;var Q=v?"touchstart":"mousedown";var q=v?"touchmove":"";var w=v?"touchend":"mouseup";var I=0;var B=S.parentNode.clientWidth;if(H.marW){B-=H.marW}var R;var c;var ad=h;if(p==0){p=h}if(t){p=h;y=y[0];y.innerHTML="";var K="";if(H.autoPage==true||H.autoPage=="true"){for(var ab=0;ab<p;ab++){K+="<li>"+(ab+1)+"</li>"}}else{for(var ab=0;ab<p;ab++){K+=H.autoPage.replace("$",(ab+1))}}y.innerHTML=K;y=y.children}if(X=="leftLoop"){ad+=2;S.appendChild(S.children[0].cloneNode(true));S.insertBefore(S.children[h-1].cloneNode(true),S.children[0])}R=V(S,'<div class="tempWrap" style="overflow:hidden; position:relative;"></div>');S.style.cssText="width:"+ad*B+"px;position:relative;overflow:hidden;padding:0;margin:0;";for(var ab=0;ab<ad;ab++){S.children[ab].style.cssText="display:table-cell;vertical-align:top;width:"+B+"px"}var aa=function(){if(typeof H.startFun=="function"){H.startFun(J,p)}};var n=function(){if(typeof H.endFun=="function"){H.endFun(J,p)}};var b=function(a){var i=(X=="leftLoop"?J+1:J)+a;var af=function(ai){var ag=S.children[ai].getElementsByTagName("img");for(var ah=0;ah<ag.length;ah++){if(ag[ah].getAttribute(m)){ag[ah].setAttribute("src",ag[ah].getAttribute(m));ag[ah].removeAttribute(m)}}};af(i);if(X=="leftLoop"){switch(i){case 0:af(h);break;case 1:af(h+1);break;case h:af(0);break;case h+1:af(1);break}}};var o=function(){B=R.clientWidth;if(H.marW){B-=H.marW}S.style.width=ad*B+"px";for(var a=0;a<ad;a++){S.children[a].style.width=B+"px"}var af=X=="leftLoop"?J+1:J;e(-af*B,0)};window.addEventListener("resize",o,false);var e=function(af,i,a){if(H.marW){af+=H.marW/2}if(!!a){a=a.style}else{a=S.style}a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=i+"ms";a.webkitTransform="translate("+af+"px,0)translateZ(0)";a.msTransform=a.MozTransform=a.OTransform="translateX("+af+"px)"};var M=function(a){switch(X){case"left":if(J>=p){J=a?J-1:0}else{if(J<0){J=a?0:p-1}}if(m!=null){b(0)}e((-J*B),x);ac=J;break;case"leftLoop":if(m!=null){b(0)}e(-(J+1)*B,x);if(J==-1){Y=setTimeout(function(){e(-p*B,0)},x);J=p-1}else{if(J==p){Y=setTimeout(function(){e(-B,0)},x);J=0}}ac=J;break}aa();D=setTimeout(function(){n()},x);for(var af=0;af<p;af++){u(y[af],H.titOnClassName);if(af==J){F(y[af],H.titOnClassName)}}if(f==false){u(G,"nextStop");u(r,"prevStop");if(J==0){F(r,"prevStop")}else{if(J==p-1){F(G,"nextStop")}}}if(E){E.innerHTML="<span>"+(J+1)+"</span>/"+p}};M();if(U){W=setInterval(function(){J++;M()},s)}if(y){for(var ab=0;ab<p;ab++){(function(){var a=ab;y[a].addEventListener("click",function(i){clearTimeout(Y);clearTimeout(D);J=a;M()})})()}}if(Z){for(var ab=0;ab<l;ab++){(function(){var a=ab;Z[a].addEventListener("click",function(i){clearTimeout(Y);clearTimeout(D);J=a;M()})})()}}if(G){G.addEventListener("click",function(a){if(f==true||J!=p-1){clearTimeout(Y);clearTimeout(D);J++;M()}})}if(r){r.addEventListener("click",function(a){if(f==true||J!=0){clearTimeout(Y);clearTimeout(D);J--;M()}})}var j=function(i){clearTimeout(Y);clearTimeout(D);c=undefined;N=0;var a=v?i.touches[0]:i;C=a.pageX;z=a.pageY;S.addEventListener(q,A,false);S.addEventListener(w,P,false)};var A=function(i){if(v){if(i.touches.length>1||i.scale&&i.scale!==1){return}}var a=v?i.touches[0]:i;N=a.pageX-C;L=a.pageY-z;if(typeof c=="undefined"){c=!!(c||Math.abs(N)<Math.abs(L))}if(!c){i.preventDefault();if(U){clearInterval(W)}switch(X){case"left":if((J==0&&N>0)||(J>=p-1&&N<0)){N=N*0.4}e(-J*B+N,0);break;case"leftLoop":e(-(J+1)*B+N,0);break}if(m!=null&&Math.abs(N)>B/3){b(N>-0?-1:1)}}};var P=function(a){if(N==0){return}a.preventDefault();if(!c){if(Math.abs(N)>B/10){N>0?J--:J++}M(true);if(U){W=setInterval(function(){J++;M()},s)}}S.removeEventListener(q,A,false);S.removeEventListener(w,P,false)};S.addEventListener(Q,j,false)};